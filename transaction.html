<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Transactions</title>

  <link rel="stylesheet" href="pro.css">
  <script src="pro.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

  <div class="app">
    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" id="mobileMenuToggle">â˜°</button>

    <aside class="sidebar" id="sidebar">
      <div class="brand">
        <div class="logo">ðŸ’°</div>
        <h1>SmartBudget</h1>
      </div>

      <nav class="menu">
        <a href="pro.html" class="menu-item">Dashboard</a>
        <a href="transaction.html" class="menu-item active">Transactions</a>
        <a href="report.html" class="menu-item">Reports</a>
        <a href="settings.html" class="menu-item">Settings</a>
      </nav>

      <div class="sidebar-footer">
        <small>Â© 2025 Kanchan</small>
      </div>
    </aside>

    <div class="main">

      <header class="topbar">
        <div class="search-wrap">
          <input id="searchInput" placeholder="Search transactions...">
        </div>
        <div class="top-actions">
          <button id="exportCSV" class="btn">Export CSV</button>
          <button id="exportPDF" class="btn outline">Export PDF</button>
          <button id="themeToggle" class="icon-btn">ðŸŒ™</button>
        </div>
      </header>

      <!-- Summary cards -->
      <section class="summary">
        <div class="card card-glass">
          <small>Total Income</small>
          <h2 id="totalIncome">â‚¹0</h2>
        </div>
        <div class="card card-glass">
          <small>Total Expense</small>
          <h2 id="totalExpense">â‚¹0</h2>
        </div>
        <div class="card card-glass">
          <small>Balance</small>
          <h2 id="balance">â‚¹0</h2>
        </div>
      </section>

      <!-- Add Transaction Form -->
      <div class="panel card-glass" style="margin-top:20px;">
        <h3>Add New Transaction</h3>
        <form id="transactionForm" class="form">
          <input id="description" type="text" placeholder="Description" required />
          <div class="row">
            <input id="amount" type="number" placeholder="Amount (â‚¹)" required />
            <select id="type">
              <option value="expense">Expense</option>
              <option value="income">Income</option>
            </select>
          </div>
          <div class="row">
            <select id="category">
              <option value="food">Food</option>
              <option value="rent">Rent</option>
              <option value="bills">Bills</option>
              <option value="shopping">Shopping</option>
              <option value="travel">Travel</option>
              <option value="other">Other</option>
            </select>
            <input id="date" type="date" required />
          </div>

          <div class="row">
            <button class="btn primary" type="submit">Add Transaction</button>
            <button id="clearAll" class="btn outline" type="button">Clear All</button>
          </div>
        </form>
      </div>

      <!-- Transaction History -->
      <div class="panel card-glass" style="margin-top:20px;">
        <h2>Transaction History</h2>

        <div class="filters" style="margin-bottom: 14px;">
          <select id="filterType">
            <option value="all">All</option>
            <option value="income">Income</option>
            <option value="expense">Expense</option>
          </select>

          <select id="filterCategory">
            <option value="all">All categories</option>
            <option value="food">Food</option>
            <option value="rent">Rent</option>
            <option value="bills">Bills</option>
            <option value="shopping">Shopping</option>
            <option value="travel">Travel</option>
            <option value="other">Other</option>
          </select>
        </div>

        <ul id="transactions" class="transaction-list"></ul>
      </div>

    </div>
  </div>

  <script>
    /* Load saved theme */
    const savedTheme = localStorage.getItem("theme");
    if (savedTheme === "dark") {
      document.body.classList.add("dark-mode");
    }

    /* Mobile Menu Toggle */
    const mobileMenuToggle = document.getElementById("mobileMenuToggle");
    const sidebar = document.getElementById("sidebar");

    if (mobileMenuToggle) {
      mobileMenuToggle.addEventListener("click", () => {
        sidebar.classList.toggle("mobile-open");
      });

      document.addEventListener("click", (e) => {
        if (!sidebar.contains(e.target) && !mobileMenuToggle.contains(e.target)) {
          sidebar.classList.remove("mobile-open");
        }
      });

      document.querySelectorAll(".menu-item").forEach(item => {
        item.addEventListener("click", () => {
          sidebar.classList.remove("mobile-open");
        });
      });
    }
  </script>

</body>

</html>